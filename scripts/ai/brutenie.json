{"list":[{"type":"cc","id":436,"onCC":436,"pos":{"x":4.038598028005728,"y":-0.6683410489571535},"angle":5.507239845118278,"tag":"KX","args":{"aiStr":"{\r\n    init: function (ccblock) {\r\n\r\n        // component = this.get(tag)\r\n        // this.each(function(component){ ... });\r\n        \r\n        this.mover = this.make_controller(\r\n            'movement',\r\n            {\r\n                comp: ccblock,\r\n                radius: 5,\r\n                charge: true,\r\n                hinge: true\r\n            }\r\n        );\r\n        \r\n        this.sensor = this.make_sensor(\r\n            'radius',\r\n            {\r\n                comp: ccblock,\r\n                angle: [ -Math.PI/6, Math.PI/6 ],\r\n                distance: [ 0, 45 ],\r\n                enemy: true\r\n            }\r\n        )\r\n        \r\n        this.sensor2 = this.make_sensor(\r\n            'radius',\r\n            {\r\n                comp: ccblock,\r\n                distance: [ 0, 15 ],\r\n                enemy: true\r\n            }\r\n        )        \r\n\r\n        this.evade = false;\r\n        this.time = 0.0;\r\n        this.ccblock = ccblock;\r\n\r\n    },\r\n\r\n    update: function (dt, keyDown) {\r\n        \r\n        this.time += dt;\r\n        \r\n        if (this.time > 12.0 && this.sensor2.first && this.player_cc().p()) {\r\n            var self = this;\r\n            var ep = this.player_cc().p().clone();\r\n            var mp = this.ccblock.p();\r\n            ep.x -= mp.x;\r\n            ep.y -= mp.y;\r\n            var len = Math.lenVec2(ep);\r\n            ep.x = -ep.x/len + Math.random()*0.25 - 0.125;\r\n            ep.y = -ep.y/len + Math.random()*0.25 - 0.125;\r\n            ep.x *= 6;\r\n            ep.y *= 6;\r\n            ep.x += mp.x;\r\n            ep.y += mp.y;\r\n            this.sub(7, function(dt, keyDown, t){\r\n                self.mover.moveTo(\r\n                    ep,\r\n                    keyDown,\r\n                    BSWG.KEY.LEFT, BSWG.KEY.RIGHT,\r\n                    BSWG.KEY.UP\r\n                );\r\n                keyDown[BSWG.KEY.SPACE] = true;\r\n            });\r\n            this.time = 0.0;\r\n        }\r\n        \r\n        var tp = this.targetp || this.player_cc().p().clone();\r\n        \r\n        this.mover.moveTo(\r\n            tp,\r\n            keyDown,\r\n            BSWG.KEY.LEFT, BSWG.KEY.RIGHT,\r\n            BSWG.KEY.UP\r\n        );\r\n\r\n        if (this.sensor.first) {\r\n            keyDown[BSWG.KEY.SPACE] = true;\r\n        }\r\n        \r\n        if (this.sensor2.first) {\r\n            keyDown[BSWG.KEY.DOWN] = true;\r\n            keyDown[BSWG.KEY.UP] = false;\r\n        }\r\n\r\n    }\r\n}"},"welds":[{"other":437,"index":2,"pos":{"x":-1.0005,"y":0}},{"other":438,"index":3,"pos":{"x":1.0005,"y":0}},{"other":442,"index":7,"pos":{"x":-0.50025,"y":1.50075}},{"other":443,"index":9,"pos":{"x":0.50025,"y":1.50075}},{"other":440,"index":10,"pos":{"x":0,"y":-1.50075}}]},{"type":"block","id":437,"onCC":436,"pos":{"x":2.9674239688733888,"y":0.38277107519609177},"angle":11.790425152297864,"tag":"hd","args":{"width":1,"height":2,"armour":false,"triangle":0},"welds":[{"other":436,"index":5,"pos":{"x":0.50025,"y":0}},{"other":441,"index":6,"pos":{"x":0,"y":-1.0005}},{"other":444,"index":7,"pos":{"x":0,"y":1.0005}}]},{"type":"block","id":438,"onCC":436,"pos":{"x":5.109772087138067,"y":-1.7194531731103981},"angle":11.790425152297866,"tag":"Ph","args":{"width":1,"height":2,"armour":false,"triangle":0},"welds":[{"other":436,"index":4,"pos":{"x":-0.50025,"y":0}},{"other":439,"index":6,"pos":{"x":0,"y":-1.0005}},{"other":445,"index":7,"pos":{"x":0,"y":1.0005}}]},{"type":"blaster","id":439,"onCC":436,"pos":{"x":4.198808246205256,"y":-2.647804024358427},"angle":2.365647191528486,"tag":"Ja","args":{"fireKey":32},"welds":[{"other":438,"index":0,"pos":{"x":0,"y":-0.30015}}]},{"type":"blaster","id":440,"onCC":436,"pos":{"x":2.777263479021834,"y":-1.9537499199159611},"angle":8.648832498708073,"tag":"ca","args":{"fireKey":32},"welds":[{"other":436,"index":0,"pos":{"x":0,"y":-0.30015}}]},{"type":"blaster","id":441,"onCC":436,"pos":{"x":2.0564601279405763,"y":-0.5455797760519355},"angle":8.648832498708071,"tag":"Mo","args":{"fireKey":32},"welds":[{"other":437,"index":0,"pos":{"x":0,"y":-0.30015}}]},{"type":"thruster","id":442,"onCC":436,"pos":{"x":5.083022840499275,"y":1.1102617379370476},"angle":8.648832498708071,"tag":"nD","args":{"thrustKey":38,"size":1},"welds":[{"other":436,"index":0,"pos":{"x":0,"y":0.50025}}]},{"type":"thruster","id":443,"onCC":436,"pos":{"x":5.797138879920834,"y":0.4095203218348848},"angle":14.932017805887659,"tag":"Hm","args":{"thrustKey":38,"size":1},"welds":[{"other":436,"index":0,"pos":{"x":0,"y":0.50025}}]},{"type":"thruster","id":444,"onCC":436,"pos":{"x":4.018536093026634,"y":1.4539451343284315},"angle":2.3656471915284847,"tag":"hz","args":{"thrustKey":37,"size":1},"welds":[{"other":437,"index":0,"pos":{"x":0,"y":0.50025}}]},{"type":"thruster","id":445,"onCC":436,"pos":{"x":6.160884211291312,"y":-0.6482791139780572},"angle":14.932017805887659,"tag":"Wr","args":{"thrustKey":39,"size":1},"welds":[{"other":438,"index":0,"pos":{"x":0,"y":0.50025}}]}],"arch":{},"archiveRange":200,"arch_hashSize":25,"archObjNextID":1}